I"h<blockquote>
  <p>接上篇</p>
</blockquote>

<p><a href="http://www.jianshu.com/p/6e583c4392f3">iOS程序启动原理（上）</a></p>

<p>下图是一个iOS程序启动的完整过程
<img src="http://upload-images.jianshu.io/upload_images/2076247-1f1b30ddcfcd7ef3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<p>main函数中执行了一个UIApplicationMain这个函数.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  int main(int argc, char * argv[])  
  {    
    @autoreleasepool {        
      return UIApplicationMain(argc, argv, nil, NSStringFromClass([JNAppDelegate class]));    
    }
   }
  int UIApplicationMain(int argc, char *argv[], NSString *principalClassName, NSString *delegateClassName);
</code></pre></div></div>

<p>argc, argv:直接传递给UIApplicationMain进行相关处理即可;</p>

<p>principalClassName:指定应用程序类名(app象征),该类必须是UIApplication(或子类).如果为nil,则用UIApplication类作为默认值.</p>

<p>delegateClassName:指定应用程序的代理类,该类必须遵守UIApplicationDelegate协议.</p>

<p>UIApplicationMain函数会根据principalClassName创建UIApplication对象,根据delegateClassName创建一个delegate对象,并将该delegate对象赋值给UIApplication对象中的delegate属性.</p>

<p>接着会建立应用程序的Main Runloop(事件循环),进行事件的处理(首先会在程序启动完毕后调用delegate对象的application:didFinishLaunchingWithOptions:方法)</p>

<p>程序正常退出时UIApplicationMain函数才返回.</p>
:ET